!function(t){function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var e={};n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=1)}({1:function(t,n,e){e("TWn4"),e("l/oT"),e("aUx5"),e("YIPm"),e("IAgh"),e("LDFk"),e("KaL/"),e("NPeg"),e("YjFz"),e("e2sm"),e("zrEY"),e("CvVy"),e("6se9"),e("ikAz"),e("AilN"),e("o/Up"),e("wVBx"),e("WSTa"),e("4KLY"),e("iSX/"),e("a4GV"),e("uhBD"),e("hCZJ"),e("kjnY"),e("tJUR"),e("WPzx"),t.exports=e("RXb+")},"4KLY":function(t,n,e){"use strict";Box.Application.addService("window-opener",function(t){return{open:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:600,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:400;return window.open(t,"","toolbar=0,status=0,width="+n+",height="+e)}}})},"6se9":function(t,n,e){"use strict";Box.Application.addBehavior("page-navigate",function(t){var n=t.getGlobal("jQuery"),e=void 0,o=void 0,r=void 0,i=void 0,a=void 0;return{init:function(){o=t.getElement(),r=n(o),i=r.find('a[data-type="router-link"]'),a=r.find(".modalbox"),e=t.getService("router")},destroy:function(){e=null,o=null,r=null,i=null},onclick:function(t,o,r){if("router-link"===r){var i=n(o);t.preventDefault(),i.hasClass("button_disabled")||e.route(i.prop("href"))}},onmessage:{navigate:function(t){!function(t){var n=i.filter('[href="'+t+'"]').data("state"),e=r.find("[data-page-state]:visible"),o=r.find('[data-page-state="'+n+'"]');e.length?e.fadeOut(50,function(){return o.fadeIn(50)}):o.fadeIn(50),o.length?a.fadeIn(100):a.fadeOut(100)}(t.url)}}}})},AilN:function(t,n,e){"use strict";Box.Application.addBehavior("page-onresize",function(t){var n=t.getGlobal("jQuery"),e=t.getService("util"),o=n(window);return{init:function(){n(window).on("resize",e.throttle(this.onResize,500))},appready:function(){this.onResize()},destroy:function(){n(window).off("resize")},onResize:function(n){t.broadcast("pageresize",{width:o.width(),height:o.height()})}}})},CvVy:function(t,n,e){"use strict";Box.Application.addBehavior("page-modal",function(t){var n=void 0;return{init:function(){n=t.getService("router")},destroy:function(){n=null},onclick:function(t,e,o){if("close"===o){$(e);t.preventDefault(),n.route(n.getInitialUrl())}}}})},IAgh:function(t,n,e){"use strict";Box.Application.addService("dialog",function(t){var n=$('\n        <div class="remodal">\n            <button data-remodal-action="close" class="remodal-close"></button>\n            <div data-role="message"></div>\n            <br>\n            <button data-remodal-action="confirm" class="button button_primary button_m button_normal_case">да</button>\n            <button data-remodal-action="cancel" class="button button_default button_m">нет</button>\n        </div>    \n    ');return{show:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};n.find('[data-role="message"]').html(t),n.remodal().open(),n.on("confirmation",function(t){return e(t)}),n.on("cancellation",function(t){return o(t)}),n.on("closed",function(t){return n.off()})}}})},"KaL/":function(t,n,e){"use strict";Box.Application.addService("ajax",function(t){return t.getGlobal("Bb").ajax})},LDFk:function(t,n,e){"use strict";Box.Application.addService("util",function(t){return t.getGlobal("Bb").util})},NPeg:function(t,n,e){"use strict";Box.Application.addService("form-ajax",function(t){var n=t.getGlobal("Bb").form.ajax;return{create:function(t,e){return n(t,e)}}})},"RXb+":function(t,n,e){"use strict";Box.Application.addModule("subscribe-unsubscribe-ajax-form-module",function(t){var n=t.getGlobal("jQuery"),e=void 0,o=void 0,r=void 0,i=void 0;return{behaviors:["func-button","form-disable-buttons","ajax-form"],messages:["ajax-post","ajax-post-error"],init:function(){e=n(t.getElement()),o=e.find("form"),r=e.find('[type="submit"]'),i=t.getConfig(),this.state=function(t,n){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;return{url:t.api[e],label:t.buttons[e]}}return e(),{getState:e,switchState:function(){var o=t.states.indexOf(n)+1;(n=t.states[o])||(n=t.states[0]),e()}}}({api:i.api,buttons:i.buttons,states:i.states},i.state),o.on("ajax:success",this.onAjaxSuccess.bind(this)),i.pageUrl&&t.broadcast("pageUrl",{pageUrl:i.pageUrl})},destroy:function(){o.off(),i=null,o=null,e=null},onAjaxSuccess:function(t){i.switchState&&(this.state.switchState(),o.attr("action",this.state.getState().url),r.text(this.state.getState().label))}}})},TWn4:function(t,n,e){"use strict";!function(t,n){function e(){for(var n,e,o=arguments,r=0,i=o.length;r<i;r+=1){n=o[r].split("."),e=t;for(var a=0,u=n.length;a<u;a+=1)e[n[a]]=e[n[a]]||{},e=e[n[a]]}return e}var o=e("Bb.util");o.string=e("Bb.util.string"),o.math=e("Bb.util.math"),o.dom=e("Bb.util.dom"),o.location=e("Bb.util.location"),t.URL=t.URL||t.webkitURL;var r=function(n){var e,o,r,i;e=n.match(/(webkit|gecko|presto|trident)/gi),o=n.match(/(firefox|safari|chrome|opera|msie)/gi),r=n.match(/(os\sx|windows|linux)/gi),i=n.match(/(mobile)/gi);try{e=e&&e[0].toLowerCase()||"unknown",o=o&&o[0].toLowerCase()||"unknown",r=r&&r[0].replace(" ","").toLowerCase()||"unknown",i=!!i}catch(n){t.console&&console.log(n,n.message)}return{engine:e,vendor:o,os:r,mobile:i}}(navigator.userAgent.toLowerCase());Bb.ns=e,o.namespace=e,o.ua=r,o.string.stripTags=function(t){return t?String(t).replace(/<\/?[^>]+>/gi,""):t},o.string.nl2br=function(t){return t?t.replace(/\r?\n/g,"<br>"):t},o.string.br2nl=function(t){return t?t.replace(/<br(\s*\/?)>/g,"\r\n"):t},o.string.numberFormat=function(t,n,e,o){var r,i,a,u,c,s,l="",f=t.toString(),d=f.indexOf("e"),p="";if(void 0!==t){if(o||(o=" "),d>-1&&(l=f.substring(d),t=parseFloat(f.substring(0,d))),n||(n=0),null!==n&&(a=Math.pow(10,n),t=Math.round(t*a)/a),u=t<0?"−":"",c=(t>0?Math.floor(t):Math.abs(Math.ceil(t))).toString(),s=t.toString().substring(c.length+u.length),e=null!==e?e:".",s=null!==n&&n>0||s.length>1?e+s.substring(1):"",null!==n&&n>0)for(r=s.length-1,i=n;r<i;++r)s+="0";if(null!==(o=o!=e||0===s.length?o:null)&&""!==o)for(r=c.length-3;r>0;r-=3)c=c.substring(0,r)+o+c.substring(r);p=u+c+s+l}return p},o.string.shrinkToMaxSentence=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=function(t){return t.length?". ":""};return t.split(".").map(function(t){return t.trim()}).filter(function(t){return t.length}).reduce(function(t,r){return(t+r+o(t)).length<=n-(e?1:0)&&(t+=o(t)+r),t},"")+(e?".":"")},o.string.camelCase=function(t){return t.replace(/(?:^|[\-\_])\w/g,function(t){return t.replace(/[\-\_]/,"").toUpperCase()})},o.extend=function(){for(var t,n=arguments,e=1,o=n.length;e<o;e++)for(t in n[e])n[e].hasOwnProperty(t)&&(n[0][t]=n[e][t]);return n[0]},o.string.parseUrl=function(t){var n=document.createElement("a");return n.href=t,n},o.math.decimalRound=function(t,n){return n>0&&(n=Math.pow(10,n),t=Math.round(t*n)/n),t},o.string.humanSense=function(t,n,e,o,r){if(!t)return r;var i=t%10,a=t%100;return a>=11&&a<=14||0===i||i>=5&&i<=9?e:1==i?n:i>=2&&i<=4?o:void 0},o.string.entitiesDecode=function(t){if(!$)throw new Error("entitiesDecode() used jQuery");return $("<textarea />").html(t).text()},o.dom.getDataset=function(t){var n="data-".length;return Array.prototype.slice.call(t.attributes).reduce(function(t,e){var o=e.name;return 0===o.indexOf("data-")&&(t[o.slice(n)]=e.value),t},{})},o.location.redirect=function(t){window.location=t},o.preventDefault=function(t){for(var n=arguments.length,e=Array(n>1?n-1:0),o=1;o<n;o++)e[o-1]=arguments[o];return function(n){n.preventDefault(),t.apply(null,[n].concat(e))}},o.delayedExec=function(t,n){function e(t){delayedExec[t]&&clearTimeout(delayedExec[t])}var o=Array.prototype.slice.call(arguments).slice(2);e(t),delayedExec[t]=setTimeout(function(){t.apply(null,o),e(t)},n,o)},o.debounce=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,e=void 0;return function(){for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];clearTimeout(e),e=setTimeout(function(){t.apply(null,r)},n)}},o.throttle=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,e=void 0,o=void 0;return function(){var r=arguments,i=+new Date;if(e&&i<e+n)return clearTimeout(o),void(o=setTimeout(function(){e=i,t.apply(null,r)},n));e=i,t.apply(null,r)}}}(window)},WPzx:function(t,n,e){"use strict";Box.Application.addModule("ajax-form-module",function(t){var n=t.getGlobal("jQuery"),e=void 0;return{behaviors:["func-button","form-disable-buttons","ajax-form"],init:function(){e=t.getElement(),n(e)},destroy:function(){e=null,null}}})},WSTa:function(t,n,e){"use strict";Box.Application.addModule("social-share",function(t){var n=t.getGlobal("jQuery");return{behaviors:["social-share.twitter","social-share.fb","social-share.vk"],init:function(){},destroy:function(){},onclick:function(e,o,r){"social-share"===r&&(t.broadcast("social-share."+o.getAttribute("data-social"),{data:function(t){return{title:n("title").text(),summary:n("meta[name=description]").prop("content"),pimg:n('meta[property="og:image"]').prop("content"),url:n(t).attr("href")||location.href}}(o)}),e.preventDefault())}}})},YIPm:function(t,n,e){"use strict";!function(t,n,e){var o={url:""},r=Bb.ajax.ajax;Bb.ns("Bb.form").ajax=function(e,i){function a(){return"multipart/form-data"===u.prop("enctype")?{url:c.url||u.attr("action"),type:"POST",data:new FormData(u[0]),processData:!1,contentType:!1}:{url:c.url||u.attr("action"),type:"POST",data:u.serializeArray(),processData:!0}}var u=t(e),c=t.extend({},o,i);return{post:function(){return new n.Promise(function(t,n){r(a()).then(function(n){t(n)}).catch(function(t){var e=t.error?t.error:t;console.error("Error:",e.message?e.message:e),n(e)})})},put:function(t){var e=u.serializeArray();return new n.Promise(function(n,o){r({url:c.url+t+"/",type:"PUT",data:e}).then(function(t){n(t)}).catch(function(t){var n=t.error?t.error:t;console.error("Error:",n.message?n.message:n),o(n)})})},getData:function(){return u.serializeArray()}}}}(jQuery,vow)},YjFz:function(t,n,e){"use strict";Box.Application.addService("form-validator",function(t){var n=t.getGlobal("Bb").form.validator;return{create:function(t,e){return n(t,e)}}})},a4GV:function(t,n,e){"use strict";Box.Application.addBehavior("social-share.fb",function(t){var n=t.getService("window-opener");return{messages:["social-share.fb"],onmessage:function(t,e){var o="https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(e.data.url);n.open(o)}}})},aUx5:function(t,n,e){"use strict";!function(t,n,e){var o=t.Bb.ns("Bb.form"),r={errorElement:"span",errorClass:"input-validation-error",messageElement:"span",messageClass:"input-validation-message",onfocusout:!1,onkeyup:function(t,n){var e=n.which;-1===[9,13,16,17,18,91,93,37,38,39,40].indexOf(e)&&(this.resetElement(t),this.hideErrorFor(t))}};n.validator.prototype.checkForm=function(){this.prepareForm();for(var t=0,n=this.currentElements=this.elements();n[t];t++)if(void 0!==this.findByName(n[t].name).length&&this.findByName(n[t].name).length>1)for(var e=0;e<this.findByName(n[t].name).length;e++)this.check(this.findByName(n[t].name)[e]);else this.check(n[t]);return this.valid()},n.validator.prototype.resetElement=function(t){this.resetElements([t])},n.validator.prototype.hideErrorFor=function(t){n(t).next(this.settings.errorElement+"."+this.settings.errorClass).remove()},n.validator.prototype.escapeCssMeta=function(t){return t.replace(/([\\!"#$%&'()*+,./:;<=>?@^`{|}~])/g,"\\$1")},o.validator=function(t,e){function o(){return 0===Object.keys(u.invalid).length}var i=n(t).filter("form"),a=n.extend({},r,e),u=i.validate(a),c=void 0,s=void 0;return{showErrors:function(t){return u.showErrors(t)},showError:function(t){c||(c=n("<"+a.errorElement+' class="'+a.errorClass+'">').appendTo(i)),c.show().html(t)},showMessage:function(t){s||(s=n("<"+a.messageElement+' class="'+a.messageClass+'">').appendTo(i)),s.show().html(t)},hideErrors:function(){s&&(s.remove(),s=null)},setFindByName:function(t){return u.findByName=t.bind(u)},isValid:o,isInvalid:function(){return!o()}}}}(window,jQuery)},e2sm:function(t,n,e){"use strict";Box.Application.addService("router",function(t){function n(n,e){!function(n){t.broadcast("navigate",{url:function(t){"/"===t.slice(-1)&&(t=t.slice(0,-1));return t}(n)})}(n.pathname)}var e=t.getGlobal("page");window.history;return{init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.base(window.location.origin),t.forEach(function(t){return e(t,n)}),e({click:!1}),this.setInitialUrl(window.location.href)},destroy:function(){},route:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];e(t)},getInitialUrl:function(){return this.initialUrl&&this.initialUrl!==window.location.href?this.initialUrl:e.base()},setInitialUrl:function(t){this.initialUrl=t}}})},hCZJ:function(t,n,e){"use strict";Box.Application.addBehavior("form-disable-buttons",function(t){var n=t.getGlobal("jQuery"),e=void 0;return{init:function(){e=n(t.getElement())},destroy:function(){e=null},onsubmit:function(t,n,o){e.find(".button").prop("disabled","disabled").addClass("button_disabled").filter('[type="submit"]').addClass("button_waiting")}}})},"iSX/":function(t,n,e){"use strict";Box.Application.addBehavior("social-share.twitter",function(t){var n=t.getService("window-opener"),e=t.getService("util");return{messages:["social-share.twitter"],onmessage:function(t,o){console.log(o.data.url);var r="https://twitter.com/intent/tweet?text="+encodeURIComponent(o.data.title)+". "+encodeURIComponent(e.string.shrinkToMaxSentence(o.data.summary,70,!0))+" "+encodeURIComponent(o.data.url);n.open(r)}}})},ikAz:function(t,n,e){"use strict";Box.Application.addBehavior("page-onscroll",function(t){var n=t.getGlobal("jQuery"),e=t.getService("util"),o=n(document);return{init:function(){this.getScrollTop()&&this.onScroll(),n(window).on("scroll",e.throttle(this.onScroll.bind(this),50))},destroy:function(){n(window).off("scroll")},getScrollTop:function(){return o.scrollTop()},onScroll:function(){t.broadcast("pagescroll",{scrollTop:this.getScrollTop()})}}})},kjnY:function(t,n,e){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Box.Application.addBehavior("ajax-form",function(t){function n(){r.find(".button").prop("disabled",!1).removeClass("button_disabled button_waiting")}var e=t.getGlobal("jQuery"),r=void 0,i=void 0,a=void 0,u=void 0,c=void 0;return{init:function(){r=e(t.getElement()),i=r.find("form"),a=t.getService("form-validator").create(i),u=t.getService("form-ajax").create(i),c=t.getService("util")},destroy:function(){r=null,i=null,a=null,u=null,c=null},onsubmit:function(e,r,s){e.preventDefault(),a.hideErrors(),u.post().then(function(e){if(e){if(e.redirectTo)return void c.location.redirect(e.redirectTo);e.message&&a.showMessage(e.message)}n(),i.trigger("ajax:success"),i.trigger("ajax:complete"),t.broadcast("formPosted",i.serializeArray())}).catch(function(t){"object"===(void 0===t?"undefined":o(t))?t.message?a.showError(t.message):a.showErrors(function(t){var n={};for(var e in t)n[e.replace(/\.([0-9]+)/,"[$1]")]=t[e];return n}(t)):(a.showError(t),console.error(t)),n(),i.trigger("ajax:failed"),i.trigger("ajax:complete")})}}})},"l/oT":function(t,n,e){"use strict";!function(t,n,e){function o(){var o=arguments.length>0&&arguments[0]!==e?arguments[0]:{};t.extend({},r,o);return new n(function(n,e){t.ajax(o).done(function(t,o,r){"success"===o&&n(t),e(t)}).fail(function(t,n,o){e(t.responseJSON||o)})})}var r={url:""},i=Bb.ns("Bb.ajax");i.ajax=o,i.get=function(){var n=arguments.length>0&&arguments[0]!==e?arguments[0]:{};return o(t.extend({},n,{method:"GET"}))},i.post=function(){var n=arguments.length>0&&arguments[0]!==e?arguments[0]:{};return o(t.extend({},n,{method:"POST"}))},i.put=function(){var n=arguments.length>0&&arguments[0]!==e?arguments[0]:{};return o(t.extend({},n,{method:"PUT"}))},i.delete=function(){var n=arguments.length>0&&arguments[0]!==e?arguments[0]:{};return o(t.extend({},n,{method:"DELETE"}))},i.loadScript=function(t){return new n(function(n,e){window.onAjaxLoadScriptCallback=function(){for(var t=arguments.length,e=Array(t),o=0;o<t;o++)e[o]=arguments[o];n(e)};var o=t+"?onload=onAjaxLoadScriptCallback",r=document.getElementsByTagName("script")[0],i=document.createElement("script");i.src=o,r.parentNode.insertBefore(i,r.nextSibling||r)})}}(jQuery,vow.Promise)},"o/Up":function(t,n,e){"use strict";Box.Application.addBehavior("func-button",function(t){var n=t.getGlobal("jQuery"),e=void 0,o=void 0;return{init:function(){e=t.getElement(),o=n(e)},destroy:function(){e=null,o=null},onclick:function(e,r,i){if("func-button"===i){var a=n(r);t.broadcast("func-button.click."+a.data("func-name"),{name:a.data("func-name"),el:r,$el:a,moduleEl:o}),e.preventDefault()}}}})},tJUR:function(t,n,e){"use strict";Box.Application.addModule("form-module",function(t){return{behaviors:["form-disable-buttons"]}})},uhBD:function(t,n,e){"use strict";Box.Application.addBehavior("social-share.vk",function(t){var n=t.getService("window-opener");return{messages:["social-share.vk"],onmessage:function(t,e){var o="http://vk.com/share.php?url="+encodeURIComponent(e.data.url)+"&title="+encodeURIComponent(e.data.title)+"&description="+encodeURIComponent(e.data.summary)+"&image="+encodeURIComponent(e.data.pimg)+"&noparse=true";n.open(o)}}})},wVBx:function(t,n,e){"use strict";Box.Application.addBehavior("load-fonts",function(t){var n=t.getGlobal("FontFaceObserver");return{init:function(){this.isLoaded()&&this.activateFonts()},onmessage:{appready:function(){var t=this;this.isLoaded()||this.load("AktivGrotesk-Regular").then(function(){return t.load("AktivGrotesk-Bold")}).then(function(){return t.activateFonts()}).then(function(){return t.isLoaded(!0)}).catch(function(t){return console.error(t)})}},load:function(t){return this.ffo(t).load()},ffo:function(t){return new n(t)},activateFonts:function(){document.documentElement.classList.add("fonts-loaded")},isLoaded:function(t){if(void 0===t)return sessionStorage.fontsLoaded;sessionStorage.fontsLoaded=t}}})},zrEY:function(t,n,e){"use strict";Box.Application.addBehavior("page-onready",function(t){var n=t.getGlobal("jQuery");return{init:function(){n(function(){return t.broadcast("appready")})}}})}});